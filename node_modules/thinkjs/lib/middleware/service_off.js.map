{"version":3,"sources":["../../src/middleware/service_off.js"],"names":["run","config","http","error","Error","think","locale","statusAction","middleware","base"],"mappings":"AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKE;;;;mBAIAA,G,kBAAK;AACH,QAAG,CAAC,KAAKC,MAAL,CAAY,YAAZ,CAAJ,EAA8B;AAC5B,UAAIC,OAAO,KAAKA,IAAhB;AACAA,WAAKC,KAAL,GAAa,IAAIC,KAAJ,CAAUC,MAAMC,MAAN,CAAa,qBAAb,CAAV,CAAb;AACA,aAAOD,MAAME,YAAN,CAAmB,GAAnB,EAAwBL,IAAxB,CAAP;AACD;AACF,G;;;EAX0BG,MAAMG,UAAN,CAAiBC,I","file":"service_off.js","sourcesContent":["'use strict';\n/**\n * service off\n * @type {}\n */\nexport default class extends think.middleware.base {\n  /**\n   * run\n   * @return {} []\n   */\n  run(){\n    if(!this.config('service_on')){\n      let http = this.http;\n      http.error = new Error(think.locale('SERVICE_UNAVAILABLE'));\n      return think.statusAction(503, http);\n    }\n  }\n}"]}