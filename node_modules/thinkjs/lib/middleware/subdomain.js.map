{"version":3,"sources":["../../src/middleware/subdomain.js"],"names":["run","subdomain","config","think","isEmpty","http","hostname","split","value","pathname","middleware","base"],"mappings":"AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKE;;;;mBAIAA,G,kBAAK;AACH,QAAIC,YAAY,KAAKC,MAAL,CAAY,WAAZ,CAAhB;AACA,QAAIC,MAAMC,OAAN,CAAcH,SAAd,CAAJ,EAA8B;AAC5B;AACD;AACD,QAAII,OAAO,KAAKA,IAAhB;AACA,QAAIC,WAAWD,KAAKC,QAAL,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAf;AACA,QAAIC,QAAQP,UAAUK,QAAV,CAAZ;AACA,QAAI,CAACE,KAAL,EAAY;AACV;AACD;AACDH,SAAKI,QAAL,GAAgBD,QAAQ,GAAR,GAAcH,KAAKI,QAAnC;AACD,G;;;EAjB0BN,MAAMO,UAAN,CAAiBC,I","file":"subdomain.js","sourcesContent":["'use strict';\n/**\n * subdomain\n * @type {}\n */\nexport default class extends think.middleware.base {\n  /**\n   * run\n   * @return {} []\n   */\n  run(){\n    let subdomain = this.config('subdomain');\n    if (think.isEmpty(subdomain)) {\n      return;\n    }\n    let http = this.http;\n    let hostname = http.hostname.split('.')[0];\n    let value = subdomain[hostname];\n    if (!value) {\n      return;\n    }\n    http.pathname = value + '/' + http.pathname;\n  }\n}"]}